spring.application.name=url-management-shortener

# Datasource Configuration
# In Docker: Uses environment variables (SPRING_DATASOURCE_URL, etc.) for PostgreSQL
# Locally: Falls back to H2 in-memory database
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:h2:mem:testdb}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:sa}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:password}
spring.datasource.driver-class-name=${SPRING_DATASOURCE_DRIVER_CLASS_NAME:org.h2.Driver}

# JPA / Hibernate Configuration
# Spring Boot will auto-detect the database platform based on the datasource URL
# For PostgreSQL in Docker, it will automatically use PostgreSQLDialect
# For H2 locally, it will use H2Dialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# H2 Console (only enabled for local development with H2)
spring.h2.console.enabled=${SPRING_H2_CONSOLE_ENABLED:true}

# Server port (optional)
server.port=8080


# Logging Configuration
# Set root logging level to WARN (only show warnings and errors)
logging.level.root=WARN

# Set your application logging to INFO (show important application logs)
logging.level.com._cortex=INFO

# Reduce Spring Boot framework noise
logging.level.org.springframework=WARN
logging.level.org.springframework.boot=WARN
logging.level.org.springframework.web=WARN

# Reduce Hibernate verbosity
logging.level.org.hibernate=WARN
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=WARN

# Reduce HikariCP (connection pool) verbosity
logging.level.com.zaxxer.hikari=WARN

# Reduce Tomcat verbosity
logging.level.org.apache.catalina=WARN
logging.level.org.apache.tomcat=WARN

# Use colored console output for better readability
spring.output.ansi.enabled=ALWAYS

# Customize log pattern for cleaner output
logging.pattern.console=%clr(%d{HH:mm:ss.SSS}){faint} %clr(%5p) %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n%wEx

# Disable Spring Boot banner (optional - uncomment to hide the ASCII art banner)
# spring.main.banner-mode=off
